<!DOCTYPE html>
<html>
<head>
        <title>Leaflet Layers Control Example</title>
        <meta charset="utf-8" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.css" />
<!--[if lte IE 8]>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.ie.css" />
<![endif]-->

<script src="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.js"></script>
</head>
<body>
        <div id="map" style="width: 800px; height: 600px"></div>

        <script src="ruralwater.geojson"></script>
        <script>
                var map = L.map('map').setView([-77.65, 39.12], 16);

                L.tileLayer('http://{s}.tile.cloudmade.com/{key}/22677/256/{z}/{x}/{y}.png', {
                        attribution: '',
                        key: 'BC9A493B41014CAABB98F0471D759707'
                }).addTo(map);

                var baseballIcon = L.icon({
                        iconUrl: 'baseball-marker.png',
                        iconSize: [32, 37],
                        iconAnchor: [16, 37],
                        popupAnchor: [0, -28]
                });

                function onEachFeature(feature, layer) {
                        var popupContent = "<p></p>";

                        if (feature.properties && feature.properties.popupContent) {
                                popupContent += feature.properties.popupContent;
                        }

                        layer.bindPopup(popupContent);
                }

                L.geoJson([sources], {

                        style: function (feature) {
                                return feature.properties && feature.properties.style;
                        },

                        onEachFeature: onEachFeature,

                        pointToLayer: function (feature, latlng) {
                                return L.circleMarker(latlng, {
                                        radius: 8,
                                        fillColor: "#ff7800",
                                        color: "#000",
                                        weight: 1,
                                        opacity: 1,
                                        fillOpacity: 0.8
                                });
                        }
                }).addTo(map);

        </script>
</body>
</html>


